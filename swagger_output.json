{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "tastejoy api",
    "description": "食享 - 美食地圖專題 api"
  },
  "host": "localhost:3666",
  "basePath": "/",
  "tags": [
    {
      "name": "Feedback-front",
      "description": "回饋 (前台)"
    },
    {
      "name": "Auth-front",
      "description": "登入/註冊 (前台)"
    },
    {
      "name": "Category-front",
      "description": "分類 (前台)"
    },
    {
      "name": "Members-front",
      "description": "會員 (前台)"
    },
    {
      "name": "HR",
      "description": "--- 分隔線 - 以下是參考的 ---"
    },
    {
      "name": "Vendors-front",
      "description": "賣家 (前台)"
    },
    {
      "name": "Vendors-back",
      "description": "賣家 (後台)"
    },
    {
      "name": "Vendors-manage",
      "description": "賣家 (平台管理員)"
    },
    {
      "name": "Teachers-front",
      "description": "老師 (前台)"
    },
    {
      "name": "Teachers-back",
      "description": "老師 (後台)"
    },
    {
      "name": "Teachers-manage",
      "description": "老師 (平台管理員)"
    },
    {
      "name": "Courses-front",
      "description": "課程 (前台)"
    },
    {
      "name": "Courses-back",
      "description": "課程 (後台)"
    },
    {
      "name": "Courses-manage",
      "description": "課程 (平台管理員)"
    },
    {
      "name": "Orders-front",
      "description": "訂單 (前台)"
    },
    {
      "name": "Orders-back",
      "description": "訂單 (後台)"
    },
    {
      "name": "Orders-manage",
      "description": "訂單 (平台管理員)"
    },
    {
      "name": "Collections-front",
      "description": "收藏 (前台)"
    },
    {
      "name": "Platforms-front",
      "description": "平台資料"
    },
    {
      "name": "Platforms-manage",
      "description": "平台資料 (平台管理員)"
    },
    {
      "name": "Upload-front",
      "description": "上傳圖片 (前台)"
    },
    {
      "name": "Upload-back",
      "description": "上傳圖片 (後台)"
    },
    {
      "name": "Upload-manage",
      "description": "上傳圖片 (平台管理員)"
    },
    {
      "name": "Index",
      "description": "首頁"
    },
    {
      "name": "Users",
      "description": "使用者"
    },
    {
      "name": "Posts",
      "description": "文章"
    },
    {
      "name": "Upload",
      "description": "上傳圖片"
    },
    {
      "name": "Email",
      "description": "信箱驗證"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "paths": {
    "/": {
      "get": {
        "tags": [
          "Index"
        ],
        "description": "express 預設首頁，目前沒用",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/signup": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "註冊",
        "description": "註冊會員<br>  * account(string): 帳號。需為 Email 格式<br>  * password(string): 密碼。需至少 8 位數，且英數混合。<br>  * confirmPassword(string): 確認密碼。兩次密碼需一致。<br>  ",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "登入資訊",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "account": {
                  "type": "string",
                  "example": "tester01@test.test"
                },
                "password": {
                  "type": "string",
                  "example": "tester01"
                },
                "confirmPassword": {
                  "type": "string",
                  "example": "tester01"
                }
              },
              "required": [
                "account",
                "password",
                "confirmPassword"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/signin": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "登入",
        "description": "會員登入<br>  * account(string): 帳號。需為 Email 格式<br>  * password(string): 密碼。需至少 8 位數，且英數混合。<br>  ",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "登入資訊",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "account": {
                  "type": "string",
                  "example": "tester01@test.test"
                },
                "password": {
                  "type": "string",
                  "example": "tester01"
                }
              },
              "required": [
                "account",
                "password"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/check-account-exist": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "檢查帳號是否可以使用",
        "description": "檢查帳號是否可以使用<br>  不存在回傳 200，已存在回傳 400<br>  * account(string): 帳號。需為 Email 格式",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "account": {
                  "type": "string",
                  "example": "tester01@test.test"
                }
              },
              "required": [
                "account"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/check-account-duplicate": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "檢查帳號是否重複",
        "description": "檢查帳號是否重複<br>  已存在回傳 200，不存在回傳 400<br>  * account(string): 帳號。需為 Email 格式",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "account": {
                  "type": "string",
                  "example": "tester01@test.test"
                }
              },
              "required": [
                "account"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/forget-password": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "忘記密碼",
        "description": "忘記密碼，發送重設密碼信至會員信箱，測試要收到信要帶真實信箱",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "account": {
                  "type": "string",
                  "example": "tester01@test.test"
                }
              },
              "required": [
                "account"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "tags": [
          "Auth-front"
        ],
        "summary": "重設密碼",
        "description": "重設密碼",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string",
                  "example": "重設密碼 token"
                },
                "password": {
                  "type": "string",
                  "example": "Aa123456@"
                },
                "confirmPassword": {
                  "type": "string",
                  "example": "Aa123456@"
                }
              },
              "required": [
                "token",
                "password",
                "confirmPassword"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/google": {
      "get": {
        "tags": [
          "Auth-front"
        ],
        "summary": "Google 登入",
        "description": "Google 登入",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/google/callback": {
      "get": {
        "tags": [
          "Auth-front"
        ],
        "summary": "Google 登入 callback",
        "description": "Google 登入 callback",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/login": {
      "get": {
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/auth/fail": {
      "get": {
        "description": "",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/manage": {
      "post": {
        "tags": [
          "Members-front"
        ],
        "summary": "取得所有會員 (開發查詢用)",
        "description": "取得所有會員資料 (方便開發查詢用) <br>  body 需帶入管理員密碼",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "管理者密碼",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "adminPassword": {
                  "type": "string",
                  "example": "管理員密碼"
                }
              },
              "required": [
                "adminPassword"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/logged-in": {
      "get": {
        "tags": [
          "Members-front"
        ],
        "summary": "取得登入會員資料",
        "description": "取得登入會員資料",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/{memberId}": {
      "get": {
        "tags": [
          "Members-front"
        ],
        "summary": "取得指定會員資料",
        "description": "取得指定會員資料",
        "parameters": [
          {
            "name": "memberId",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/logged-in/info": {
      "patch": {
        "tags": [
          "Members-front"
        ],
        "summary": "修改登入會員資料",
        "description": "修改登入會員資料，只需帶入欲修改欄位。",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "test123"
                },
                "gender": {
                  "type": "string",
                  "example": "female"
                },
                "birthday": {
                  "type": "string",
                  "example": "2000-01-01 12:00:00.000"
                },
                "photo": {
                  "type": "string",
                  "example": "https://www.example.com/photo.jpg"
                },
                "favoriteCategorys": {
                  "type": "array",
                  "example": [
                    "分類1",
                    "分類2"
                  ],
                  "items": {
                    "type": "string"
                  }
                },
                "favoriteCustomCategorys": {
                  "type": "array",
                  "example": [
                    "自訂分類1",
                    "自訂分類2"
                  ],
                  "items": {
                    "type": "string"
                  }
                },
                "intro": {
                  "type": "string",
                  "example": "我的個人簡介"
                }
              }
            },
            "description": "  name (string): 名稱 <br>  gender (string): 性別。可帶入值為: male, female, other(預設) <br>  birthday (Date): 生日。格式需為 Date 物件格式: YYYY-MM-DD、YYYY-MM-DD HH:mm:ss.SSS 等 <br>  photo (string): 大頭照 url <br>  favoriteCategorys (Array(objectId)): 喜歡的分類 <br>  favoriteCustomCategorys (Array(objectId)): 喜歡的自訂分類 <br>  intro (string): 個人介紹"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/logged-in/password": {
      "patch": {
        "tags": [
          "Members-front"
        ],
        "summary": "修改會員密碼",
        "description": "修改會員密碼",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "newPassword": {
                  "type": "string",
                  "example": "abc123456"
                },
                "confirmNewPassword": {
                  "type": "string",
                  "example": "abc123456"
                }
              },
              "required": [
                "newPassword",
                "confirmNewPassword"
              ]
            },
            "description": "  newPassword: 新密碼需包含英文及數字，且至少 8 碼 <br>  confirmNewPassword: 確認新密碼需與新密碼相同"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/admin/password": {
      "patch": {
        "tags": [
          "Members-front"
        ],
        "summary": "管理員修改會員密碼",
        "description": "管理員修改會員密碼",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "memberId": {
                  "type": "string",
                  "example": "會員 Id"
                },
                "newPassword": {
                  "type": "string",
                  "example": "abc123456"
                },
                "adminPassword": {
                  "type": "string",
                  "example": "管理員密碼"
                }
              },
              "required": [
                "memberId",
                "newPassword",
                "adminPassword"
              ]
            },
            "description": "  memberId (objectId): 會員 Id <br>  newPassword (string): 新密碼 <br>  adminPassword (string): 管理員密碼"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/logged-in/friend": {
      "get": {
        "tags": [
          "Members-front"
        ],
        "summary": "取得登入會員好友",
        "description": "取得登入會員好友",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/friend/invite": {
      "post": {
        "tags": [
          "Members-front"
        ],
        "summary": "新增單筆好友邀請",
        "description": "新增單筆好友邀請",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "friendId": {
                  "type": "string",
                  "example": "要邀請成為朋友的會員 memberId"
                }
              },
              "required": [
                "friendId"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/members/friend/update-status": {
      "patch": {
        "tags": [
          "Members-front"
        ],
        "summary": "變更好友邀請狀態",
        "description": "變更好友邀請狀態",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "friendId": {
                  "type": "string",
                  "example": "要變更狀態的朋友 memberId"
                },
                "status": {
                  "type": "string",
                  "example": "accept, reject, delete"
                }
              },
              "required": [
                "friendId",
                "status"
              ]
            },
            "description": "  friendId (objectId): 要變更狀態的朋友 memberId <br>  status (string): 狀態。<br>  可帶入值為: <br>  accept: 用戶收到邀請，要接受好友邀請<br>  reject: 用戶收到邀請，要拒絕好友邀請<br>  delete: 雙方已是好友，要刪除好友"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/category/system": {
      "get": {
        "tags": [
          "Category-front"
        ],
        "summary": "取得系統分類",
        "description": "取得系統分類",
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Category-front"
        ],
        "summary": "新增一筆系統分類",
        "description": "新增一筆系統分類<br>名稱重複會回傳錯誤訊息",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "分類名稱"
                },
                "adminPassword": {
                  "type": "string",
                  "example": "管理員密碼"
                }
              },
              "required": [
                "name",
                "adminPassword"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/category/member": {
      "get": {
        "tags": [
          "Category-front"
        ],
        "summary": "取得自訂分類",
        "description": "取得自訂分類",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Category-front"
        ],
        "summary": "新增自訂分類",
        "description": "新增自訂分類",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "分類名稱"
                }
              },
              "required": [
                "name"
              ]
            },
            "description": "前端應該用不到，新增刪除請統一使用 > 修改登入會員自訂分類"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "patch": {
        "tags": [
          "Category-front"
        ],
        "summary": "修改自訂分類",
        "description": "讓使用者修改其自訂分類，<br>  包括刪除現有分類和新增新的分類。",
        "parameters": [
          {
            "name": "token",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/feedbacks/": {
      "post": {
        "tags": [
          "Feedback-front"
        ],
        "summary": "新增回饋",
        "description": "新增回饋<br>  memberId: 會員 ID<br>  contactPerson: 姓名 *<br>  phone: 電話<br>  email: 信箱 *<br>  feedback: 內容 *<br>  source: 來源。限定值：[\"網路搜尋\", \"親友推薦\", \"社群媒體\", \"其他\"]<br>  ",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "memberId": {
                  "type": "string",
                  "example": "會員 ID"
                },
                "contactPerson": {
                  "type": "string",
                  "example": "姓名"
                },
                "phone": {
                  "type": "string",
                  "example": "電話"
                },
                "email": {
                  "type": "string",
                  "example": "信箱"
                },
                "feedback": {
                  "type": "string",
                  "example": "內容"
                },
                "source": {
                  "type": "string",
                  "example": "來源"
                }
              },
              "required": [
                "memberId",
                "contactPerson",
                "phone",
                "email",
                "feedback",
                "source"
              ]
            }
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    }
  }
}